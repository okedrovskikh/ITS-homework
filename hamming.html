<!DOCTYPE html>
<html>
    <head>
	    <title>Hamming code</title>
	    <script>
		    function code(){
            let input = (document.getElementById('inputData').value);
            let digits = new Array();
            if (input.length != 4){
                alert('В строке не должно быть ровно 4 символов');
                location.reload()
            }
            for (let i = 0; i < input.length; i++){
                digits[i] = input.charAt(i) * 1;
            }
            digits.push((digits[0] + digits[2] + digits[3])%2);
            digits.push((digits[0] + digits[1] + digits[3])%2);
            digits.push((digits[2] + digits[1] + digits[3])%2);
            document.getElementById('codedData').value = digits.join('');
        }
        function decode(){
			let input = document.getElementById('codedData').value;
			let digits = new Array();
            let output = new Array();
            if (input.length != 7){                                             
                alert('В строке не может быть более 7 символов');
                location.reload()
            }
			for (let i = 0; i < input.length; i++){
			        digits[i] = input.charAt(i) * 1;
			}  
            if (((digits[0] + digits[2] + digits[3] + digits[4])%2 == 1) && ((digits[0] + digits[1] + digits[3] + digits[5])%2 == 1) && ((digits[2] + digits[1] + digits[3] + digits[6])%2 == 1)){
                digits[3] = (digits[3]+1)%2;
                alert('Ошибка находится под цифрой номер 4');
            }
            if (((digits[0] + digits[2] + digits[3] + digits[4])%2 == 1) && ((digits[0] + digits[1] + digits[3] + digits[5])%2 == 1) && ((digits[2] + digits[1] + digits[3] + digits[6])%2 == 0)){
                digits[0] = (digits[0]+1)%2;
                alert('Ошибка находится под цифрой номер 1');
            }
            if (((digits[0] + digits[2] + digits[3] + digits[4])%2 == 0) && ((digits[0] + digits[1] + digits[3] + digits[5])%2 == 1) && ((digits[2] + digits[1] + digits[3] + digits[6])%2 == 1)){
                digits[1] = (digits[1]+1)%2;
                alert('Ошибка находится под цифрой номер 2');
            }
            if (((digits[0] + digits[2] + digits[3] + digits[4])%2 == 1) && ((digits[0] + digits[1] + digits[3] + digits[5])%2 == 0) && ((digits[2] + digits[1] + digits[3] + digits[6])%2 == 1)){
                digits[2] = (digits[2]+1)%2;
                alert('Ошибка находится под цифрой номер 3');
            }
            if (((digits[0] + digits[2] + digits[3] + digits[4])%2 == 1) && ((digits[0] + digits[1] + digits[3] + digits[5])%2 == 0) && ((digits[2] + digits[1] + digits[3] + digits[6])%2 == 0)){
                alert('Ошибка находится под цифрой номер 5');
            }
            if (((digits[0] + digits[2] + digits[3] + digits[4])%2 == 0) && ((digits[0] + digits[1] + digits[3] + digits[5])%2 == 1) && ((digits[2] + digits[1] + digits[3] + digits[6])%2 == 0)){
                alert('Ошибка находится под цифрой номер 6');
            }
            if (((digits[0] + digits[2] + digits[3] + digits[4])%2 == 0) && ((digits[0] + digits[1] + digits[3] + digits[5])%2 == 0) && ((digits[2] + digits[1] + digits[3] + digits[6])%2 == 1)){
                alert('Ошибка находится под цифрой номер 7');
            }
            output = [digits[0],digits[1], digits[2], digits[3]]; 
            document.getElementById('decodedData').value = output.join('');
        }
		</script>
    </head>
    <body>
	    <p><input type='text' id='inputData' /> input data</p>
		<p><input type='button' onclick = 'code()' value='Code'/></p>
		<p><input type='text' id='codedData' /> coded data</p>
		<p><input type='button' onclick='decode()' value='Decode'/></p>
		<p><input type='text' id='decodedData' /> decoded data</p>
    </body>
</html>